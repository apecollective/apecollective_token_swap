<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8" /><title>WC2 Debug</title>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="https://unpkg.com/@web3modal/html@2.6.2/dist/index.umd.js"></script>
</head>
<body>
  <button id="connect">Connect Wallet</button>
  <pre id="output"></pre>

  <script>
    const projectId = 'c03b6a909922b731fa377f3e996455d5';

    const web3Modal = new window.Web3ModalHtml.Web3Modal({ projectId });

    document.getElementById('connect').onclick = async () => {
      try {
        const wcProvider = await web3Modal.connect();
        const provider = new ethers.providers.Web3Provider(wcProvider);
        const signer = provider.getSigner();
        const address = await signer.getAddress();
        document.getElementById('output').textContent = 'Connected: ' + address;

        wcProvider.on("disconnect", () => {
          document.getElementById('output').textContent = 'Disconnected';
        });
      } catch(e) {
        document.getElementById('output').textContent = 'Error: ' + e.message;
      }
    };
  </script>
</body>
</html>
